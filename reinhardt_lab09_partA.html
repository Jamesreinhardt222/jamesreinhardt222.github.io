<html>

<head>
<style>

button {
    position:absolute;
    height:5em;
    width: 10em;
}
</style>
</head>

<body>
    <p>How many buttons?</p>

    <input type="text" id="buttonAmount" value="Enter a number from 5 to 500">
    <button id="go">Go!</button>
    <div id="background">
        <p id="message"></p>
    </div>
    

<script>

let buttonlist=[]
        let message = document.getElementById("message")
        let backgroundbox = document.getElementById("background")
        let button = false
        let number = 1

        function specialbutton(colour, xlocation, ylocation){
            this.colour = colour;
            this.xlocation = xlocation;
            this.ylocation = ylocation;
            let btn=document.createElement("BUTTON");
            this.btn=btn
                btn.style.background = colour;
                btn.style.left = xlocation;
                btn.style.bottom = ylocation;
            document.body.appendChild(btn);
        }

        function movement() {
            number = parseInt(document.getElementById("buttonAmount").value)
            let width = window.innerWidth
            let height = window.innerHeight

            for (i=0; i<number+1; i++) {
            let leftvalue= Math.random()*(width);
            let topvalue= Math.random()*(height);
                buttonlist[i].btn.style.left = (Math.floor(leftvalue) +"px");
                buttonlist[i].btn.style.top = (Math.floor(topvalue) +"px");
            }
        }
            
        
        
    function makebuttonlist(buttonlist, number){
        let screenwidth = window.innerWidth
        let screenheight = window.innerHeight
        let colourlist = ["red", "yellow", "blue", "green", "black", "orange", "purple"]
            
        for(i = 0; i<number; i++) {
            buttonY = (Math.floor(Math.random()*screenheight) + "px");
            buttonX = (Math.floor(Math.random()*screenwidth) + "px");
            buttoncolour=colourlist[Math.floor(Math.random()*6)]
            let b = new specialbutton(buttoncolour, buttonX, buttonY)

                buttonlist.push(b)
            }}

    function createbuttons() {
        button = true
        let number = parseInt(document.getElementById("buttonAmount").value);
        makebuttonlist(buttonlist, number)
        console.log(buttonlist);
        if (button){
            setInterval(movement, 2000);
    }
        }
    
        document.getElementById("go").onclick = createbuttons;
    
    
        


    </script>

</body>

</html>